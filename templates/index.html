{% extends "base.html" %}
{% block content %}
<style>
  :root{
    --primary: #4F46E5;
    --primary-600: #4338CA;
    --secondary: #0EA5E9;
    --bg-soft: #edf0f4;
    --muted: #e2e6ed;
    --card-edge: rgba(79,70,229,0.06);
    --shadow: 0 8px 30px rgba(16,24,40,0.06);
  }

  body { background: linear-gradient(180deg, #f9fcfd, #f1f7f9); -webkit-font-smoothing:antialiased; }

  .page-container { margin-top: 0.9rem; margin-bottom: 2.2rem; }
  .card.theme {
    background: linear-gradient(180deg, rgba(233, 248, 233, 0.98), rgba(229, 247, 229, 0.98));
    border: 1px solid var(--card-edge);
    box-shadow: var(--shadow);
    border-radius: 12px;
    padding: 1.25rem;
  }

  .about-title { position: relative; padding-left: 0.85rem; }
  .about-title::before{
    content: ""; position: absolute; left: 0; top: 8px; width: 6px;
    height: calc(100% - 12px); background: linear-gradient(180deg, var(--primary), var(--primary-600));
    border-radius: 3px;
  }

  .quicklinks { border-radius: 10px; border: 1px solid rgba(14,165,233,0.06); background: linear-gradient(180deg, #ffffff, #fbfdff); transition: transform .28s, box-shadow .28s; position:relative; overflow:visible; }
  .quicklinks:hover { transform: translateY(-6px); box-shadow: 0 14px 40px rgba(14,165,233,0.06); }
  .quicklinks::after { content:""; position:absolute; inset:0; border-radius:10px; pointer-events:none; transition:box-shadow .28s, opacity .28s; opacity:0; box-shadow:0 0 0 6px rgba(14,165,233,0); z-index:1; }
  .quicklinks:hover::after { opacity:1; box-shadow:0 20px 60px rgba(14,165,233,0.06); }
  .quicklinks h6, .quicklinks .d-grid, .quicklinks a { position:relative; z-index:2; }

  .btn-outline-primary { border-color: rgba(79,70,229,0.18); color: #1e293b; background:transparent; transition: background .18s, transform .16s, box-shadow .16s, color .16s; }
  .btn-outline-primary:hover, .btn-outline-primary:focus { background: rgba(79,70,229,0.04); color: #0f172a; transform: translateY(-2px); box-shadow: 0 8px 20px rgba(79,70,229,0.06); }

  .feature-card { border-radius: 10px; padding: 18px; display:flex; gap:12px; align-items:flex-start; background:#fff; border:1px solid rgba(15,23,42,0.03); }
  .feature-icon { width:46px;height:46px;display:grid;place-items:center;border-radius:10px;color:white;font-weight:700; }
  .icon-1 { background: linear-gradient(180deg, rgba(79,70,229,1), rgba(67,56,202,1)); }
  .icon-2 { background: linear-gradient(180deg, rgba(14,165,233,1), rgba(6,182,212,1)); }
  .icon-3 { background: linear-gradient(180deg, rgba(34,197,94,1), rgba(16,185,129,1)); }

  .step-card { padding:16px; border-radius:10px; background:#fff; border:1px solid rgba(15,23,42,0.03); text-align:center; }
  .step-number { display:inline-grid; place-items:center; width:44px;height:44px;border-radius:50%; background:linear-gradient(180deg,var(--primary),var(--primary-600)); color:white; font-weight:700; margin-bottom:8px; }

  .fade-in-up { opacity:0; transform:translateY(12px); transition: opacity .42s, transform .42s; }
  .fade-in-up.show { opacity:1; transform:translateY(0); }
  .stagger > * { opacity:0; transform:translateY(10px); transition: opacity .36s, transform .36s; }
  .stagger.show > * { opacity:1; transform:translateY(0); }
  .stagger.show > *:nth-child(1){ transition-delay:.05s; } .stagger.show > *:nth-child(2){ transition-delay:.12s; } .stagger.show > *:nth-child(3){ transition-delay:.20s; } .stagger.show > *:nth-child(4){ transition-delay:.28s; }

  .btn-animated { transition: transform .18s, box-shadow .18s; }
  .btn-animated:hover { transform:translateY(-2px); }

  @media (max-width:767px){ .about-title::before { top:6px; height: calc(100% - 10px); } .feature-card { min-height:auto; } }
</style>

<div class="container page-container">
  <div class="card theme fade-in-up" id="mainCard">

    <div class="row align-items-start">
      <!-- Left -->
      <div class="col-md-8">
        <h3 class="fw-bold mb-1">Welcome to CertifyMe</h3>
        <p class="small text-muted mb-3">
          CertifyMe provides secure, verifiable digital certificates for educational institutions.
          Teachers issue certificates, students access them instantly, and admins monitor platform activity.
        </p>

        <div class="mb-3">
          <span class="badge rounded-pill border" style="border-color: rgba(79,70,229,0.08); color:var(--primary); background: rgba(79,70,229,0.03); margin-right:.5rem;">Teacher</span>
          <span class="badge rounded-pill border" style="border-color: rgba(14,165,233,0.08); color:var(--secondary); background: rgba(14,165,233,0.03); margin-right:.5rem;">Student</span>
          <span class="badge rounded-pill bg-dark text-white">Admin</span>
        </div>

        <div class="mt-3" data-animate="stagger">
          <h5 class="fw-bold about-title">About CertifyMe</h5>
          <p class="text-muted mb-2">
            CertifyMe is a secure and user-friendly certificate management platform that prevents
            tampering and unauthorized modifications. Using SHA-256 hashing combined with HMAC,
            every certificate is cryptographically protected and verifiable.
          </p>
        </div>
      </div>

      <!-- Right: quick links (UPLOAD restored) -->
      <div class="col-md-4">
        <div class="card p-3 quicklinks" id="quickCard">
          <h6 class="mb-3">Quick links</h6>

          <div class="d-grid gap-2">
            <!-- Dashboard link only visible when teacher is logged in -->
            {% if session.get('teacher_id') %}
              <a class="btn btn-outline-primary btn-animated" href="{{ url_for('teacher_dashboard') }}">Teacher Dashboard</a>
            {% endif %}

            <!-- Keep other auth links -->
            <a class="btn btn-outline-primary btn-animated" href="{{ url_for('register') }}">Teacher Register</a>
            <a class="btn btn-outline-primary btn-animated" href="{{ url_for('login') }}">Teacher Login</a>
            <a class="btn btn-outline-primary btn-animated" href="{{ url_for('student_register') }}">Student Register</a>
            <a class="btn btn-outline-primary btn-animated" href="{{ url_for('student_login') }}">Student Login</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Features -->
    <div class="row mt-4 g-3" data-animate="stagger">
      <div class="col-md-4">
        <div class="feature-card">
          <div class="feature-icon icon-1">üîí</div>
          <div>
            <h6 class="mb-1">Tamper-proof</h6>
            <p class="small text-muted mb-0">SHA-256 + HMAC ensures certificates cannot be altered without detection.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card">
          <div class="feature-icon icon-2">‚ö°</div>
          <div>
            <h6 class="mb-1">Instant Verification</h6>
            <p class="small text-muted mb-0">Verify certificate authenticity in seconds through cryptographic checks.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card">
          <div class="feature-icon icon-3">üóÇÔ∏è</div>
          <div>
            <h6 class="mb-1">Organized Storage</h6>
            <p class="small text-muted mb-0">Centralized certificate records with easy teacher & student access controls.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- How it works -->
    <div class="mt-4">
      <h5 class="fw-bold">How it works</h5>
      <div class="row g-3 mt-2" data-animate="stagger">
        <div class="col-md-4">
          <div class="step-card">
            <div class="step-number">1</div>
            <h6 class="mb-1">Teacher Uploads</h6>
            <p class="small text-muted mb-0">Teacher uploads certificate PDF + metadata which is hashed and stored.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="step-card">
            <div class="step-number">2</div>
            <h6 class="mb-1">Hash & HMAC</h6>
            <p class="small text-muted mb-0">Certificate content is hashed (SHA-256) and secured with an HMAC key.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="step-card">
            <div class="step-number">3</div>
            <h6 class="mb-1">Verify Anytime</h6>
            <p class="small text-muted mb-0">Anyone with the certificate can verify its authenticity via the platform.</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  (function() {
    const main = document.getElementById('mainCard');
    if (main) setTimeout(()=> main.classList.add('show'), 30);
    const quick = document.getElementById('quickCard');
    if (quick) setTimeout(()=> quick.classList.add('show'), 140);

    const io = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        const el = entry.target;
        const mode = el.getAttribute('data-animate');
        if (mode === 'stagger') {
          el.classList.add('stagger');
          requestAnimationFrame(() => setTimeout(()=> el.classList.add('show'), 60));
        } else {
          el.classList.add('fade-in-up');
          setTimeout(()=> el.classList.add('show'), 30);
        }
        obs.unobserve(el);
      });
    }, { threshold: 0.12 });

    document.querySelectorAll('[data-animate]').forEach(n => io.observe(n));
    document.querySelectorAll('a.btn, button.btn').forEach(b => b.classList.add('btn-animated'));
  })();
</script>
{% endblock %}
